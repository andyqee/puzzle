<%inherit file='base.html'/>
<%block name="header">
</%block>

<%block name='body'>
    <div class='container'>
    <%include file='/components/reportSelect.html'/>
    <% title ="计算公式"%>
    <table class='table table-bordered'>
        <tr>
            <td rowspan="2">PMTID</td>
            <td rowspan="2">项目名称</td>
            <td rowspan="2" width="80px">工程结束</td>
            <td rowspan="2" width="80px">测试</td>
            <td colspan="3">bug工时比</td>
            <td colspan="4">bug漏测（真机）</td>
            <td colspan="3">dailybuild、rc bug占比</td>
        </tr>
        <tr>
            <td>bug数</td>
            <td>工时（天）</td>
            <td>
                <a id="workload_div" href="#" class="label label-important tTip" rel="popover" 
                tt="bug数/总工时(天)" data-original-title="${title}">bug工时比
                </a>
            </td>
            <td>P1</td>
            <td>P2</td>
            <td>P3</td>
            <td>P4</td>
            <td>dailybuild</td>
            <td>rc+真机+线上</td>
            <td>
                <a id="daily_to_rc" href="#" class="label label-important tTip" rel="popover" 
                            tt="dailybuilg/rc+真机+线上" data-original-title="${title}">占比
                </a>
            </td>

        </tr>
            
    % for pmt_id in data['data']:
    <%
    project = data['data'][pmt_id]['project']
    count = data['data'][pmt_id]['count']
    bug = data['data'][pmt_id]['count_s']
    from model.GlobalFunc import get_pmt_url
    from model.GlobalFunc import report_html
    pmt_url = get_pmt_url(project['pmt_id'])
    total_id = len(bug)-1
    %>
    <tr>
        <td><a href="${pmt_url}" target="_blank">${project['pmt_id']}</a></td>
        <td>${project['name']}</td>
        <td>${project['endtime']}</td>

        <td>
            ${report_html(bug,'chinese_name',project['pmt_id'],'qa',False,1,0)}
        </td>
        <td>
            ${report_html(bug,'total',project['pmt_id'],'qa',False,1,0)}
        </td>
        <td>
            ${report_html(bug,'workload',project['pmt_id'],'qa',False,1,0)}
        </td>
        <td>
            ${report_html(bug,'workload_div',project['pmt_id'],'qa',False,1,0)}
	    </td>
        <td> 
            ${report_html(bug,'p1',project['pmt_id'],'qa',False,1,0)}
        </td>
        <td>
            ${report_html(bug,'p2',project['pmt_id'],'qa',False,1,0)}
        </td>
        <td>
            ${report_html(bug,'p3',project['pmt_id'],'qa',False,1,0)}
        </td>
        <td> 
            ${report_html(bug,'p4',project['pmt_id'],'qa',False,1,0)}
        </td>
        <td>       
            ${report_html(bug,'dailybuild',project['pmt_id'],'qa',False,1,0)}
        </td>
        <td>
            ${report_html(bug,'no_dailybuild',project['pmt_id'],'qa',False,1,0)}
        </td>
        <td>
            ${report_html(bug,'dr_div',project['pmt_id'],'qa',False,1,0)}
        </td>
    </tr>
    % endfor
    </table>
    </div>
    <script type="text/javascript" src="/static/js/jquery.js"></script>
    <script type="text/javascript" src="/static/js/pages/report_qa.js"></script>
    <link href="/static/js/plugins/tinytip/tinyTips.css" rel="stylesheet">
    <script type="text/javascript" src="/static/js/plugins/tinytip/jquery.tinyTips.js"></script>
</%block>
